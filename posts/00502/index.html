<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Air Pollution data | Data Science with R</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://www.datascience.eu.org/r/posts/00502/">
<link rel="icon" href="../../files/favicon.ico" sizes="16x16">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Krishnakanth Allika">
<link rel="prev" href="../00501/" title="COVID-19 data" type="text/html">
<meta property="og:site_name" content="Data Science with R">
<meta property="og:title" content="Air Pollution data">
<meta property="og:url" content="https://www.datascience.eu.org/r/posts/00502/">
<meta property="og:description" content="Contents 

Introduction
Function 1: Mean, Median, Mode, Standard Deviation
Function 2: Data quality
Function 3: Correlation









Introduction ¶Data
The zip file containing the data can be download">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-04-17T18:02:38+05:30">
<meta property="article:tag" content="correlation">
<meta property="article:tag" content="Functions">
<meta property="article:tag" content="mean">
<meta property="article:tag" content="median">
<meta property="article:tag" content="mode">
<meta property="article:tag" content="R">
<meta property="article:tag" content="standard deviation">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://www.datascience.eu.org/r/">

            <span id="blog-title">Data Science with R</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../toc/" class="nav-link">Table of Contents</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Categories</a>
                </li>
<li class="nav-item">
<a href="../../tags/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="https://www.datascience.eu.org" class="nav-link">Main site</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://www.datascience.eu.org/r/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Air Pollution data</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Krishnakanth Allika
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-04-17T18:02:38+05:30" itemprop="datePublished" title="2020-04-17 18:02">2020-04-17 18:02</time></a>
            </p>
                <p class="commentline">
        
<a href="%7Blink%7D" onclick="this.href='/posts/00502/'; this.target='_self';"><span class="IDCommentsReplace" style="display:none">cache/posts/00502_Air_pollution.html</span>
<script>
var idcomments_acct = '7fae5836cfdd49cac599cac5b95695d1';
var idcomments_post_id = "cache/posts/00502_Air_pollution.html";
var idcomments_post_url = "/posts/00502/";
</script><script src="https://www.intensedebate.com/js/genericLinkWrapperV2.js"></script></a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Contents</strong> <a name="contents"></a></p>
<ol>
<li><a href="#intro">Introduction</a></li>
<li><a href="#f1">Function 1: Mean, Median, Mode, Standard Deviation</a></li>
<li><a href="#f2">Function 2: Data quality</a></li>
<li><a href="#f3">Function 3: Correlation</a></li>
</ol>
<hr>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction-">Introduction <a name="intro"></a><a class="anchor-link" href="#Introduction-">¶</a>
</h3>
<p><strong>Data</strong><br>
The zip file containing the data can be downloaded here:</p>
<p><a href="http://link.datascience.eu.org/p004d1">AirPollution.zip</a> (2.67MB)</p>
<p>The zip file contains 332 comma-separated-value (CSV) files containing pollution monitoring data for fine particulate matter (PM) air pollution at 332 locations in the United States. Each file contains data from a single monitor and the ID number for each monitor is contained in the file name. For example, data for monitor 200 is contained in the file "200.csv". Each file contains three variables:</p>
<p>Date: the date of the observation in YYYY-MM-DD format (year-month-day)<br>
sulfate: the level of sulfate PM in the air on that date (measured in micrograms per cubic meter)<br>
nitrate: the level of nitrate PM in the air on that date (measured in micrograms per cubic meter)</p>
<p>This data will be used in the following functions. The goal is load data from these files without dowloading or storing them in the hard disk drive, but be available to the functions to woek on them.</p>
<p>[<a href="#contents">^top</a>]</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Create an empty file in memory</span>
<span class="n">file</span><span class="o">&lt;-</span><span class="nf">tempfile</span><span class="p">()</span>
<span class="c1"># Download the zip file to this empty file</span>
<span class="nf">download.file</span><span class="p">(</span><span class="s">"http://link.datascience.eu.org/p004d1"</span><span class="p">,</span><span class="n">file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Check data file format</span>
<span class="nf">unz</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="n">list</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
Error in unz(file, list = TRUE): unused argument (list = TRUE)
Traceback:
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Function-1:-Mean,-Median,-Mode,-Standard-Deviation-">Function 1: Mean, Median, Mode, Standard Deviation <a name="f1"></a><a class="anchor-link" href="#Function-1:-Mean,-Median,-Mode,-Standard-Deviation-">¶</a>
</h3>
<p>The function "PollutantStats" will calculate the mean, median, mode and standard deviation of a pollutant (sulfate or nitrate) across a specified list of monitors. The function "PollutantStats" accepts two arguments:</p>
<ol>
<li>"pollutant" - Pollutant name <em>sulfate</em> or <em>nitrate</em> </li>
<li>"id" - An <strong>optional</strong> Monitor id vector. Default value is 1:332.</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">pollutantmean</span><span class="o">&lt;-</span><span class="nf">function</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span><span class="n">pollutant</span><span class="p">,</span><span class="n">id</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">332</span><span class="p">){</span>
    <span class="c1"># Initialize an empty vector.</span>
    <span class="n">pollutant_vector</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">()</span>
    <span class="c1"># Loop through each file number.</span>
    <span class="nf">for </span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="n">id</span><span class="p">){</span>
        <span class="c1"># We need to have the file path in "specdata/001.csv" format to use read.csv() function.</span>
        <span class="c1"># Use sprintf to combine directory name and file number in required format.</span>
        <span class="n">df</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="nf">sprintf</span><span class="p">(</span><span class="s">"%s/%03d.csv"</span><span class="p">,</span><span class="n">directory</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
        <span class="c1"># Using a comma in df[,pollutant] converts it into a numeric vector.</span>
        <span class="c1"># Else it remains a dataframe and pollutant_vector becomes a list.</span>
        <span class="n">pollutant_vector</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">pollutant_vector</span><span class="p">,</span><span class="n">df</span><span class="p">[,</span><span class="n">pollutant</span><span class="p">])</span>
    <span class="p">}</span>
    <span class="c1"># Calculate mean excluding missing values.</span>
    <span class="nf">mean</span><span class="p">(</span><span class="n">pollutant_vector</span><span class="p">,</span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="s">"sulfate"</span><span class="p">,</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
4.06412824256036
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="s">"nitrate"</span><span class="p">,</span><span class="m">70</span><span class="o">:</span><span class="m">72</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
1.70604735169492
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="s">"nitrate"</span><span class="p">,</span><span class="m">23</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
1.28083333333333
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Part-2">Part 2<a class="anchor-link" href="#Part-2">¶</a>
</h4>
<p>Write a function that reads a directory full of files and reports the number of completely observed cases in each data file. The function should return a data frame where the first column is the name of the file and the second column is the number of complete cases. A prototype of this function follows</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">complete</span><span class="o">&lt;-</span><span class="nf">function</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span><span class="n">id</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">332</span><span class="p">){</span>
    <span class="n">id_v</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">()</span>    <span class="c1"># id vector.</span>
    <span class="n">nobs_v</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">()</span>    <span class="c1"># nobs vector.</span>
    <span class="nf">for </span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="n">id</span><span class="p">){</span>
        <span class="c1"># Adding each monitor to id vector.</span>
        <span class="n">id_v</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">id_v</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="c1"># Reading each csv file into a dataframe.</span>
        <span class="n">df</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="nf">sprintf</span><span class="p">(</span><span class="s">"%s/%03d.csv"</span><span class="p">,</span><span class="n">directory</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
        <span class="c1"># Adding number of pairwise complete observations to nobs vector.</span>
        <span class="n">nobs_v</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">nobs_v</span><span class="p">,</span><span class="nf">dim</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="o">!</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"nitrate"</span><span class="p">])</span><span class="o">|</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"sulfate"</span><span class="p">])),])[</span><span class="m">1</span><span class="p">])</span>
    <span class="p">}</span>
    <span class="c1"># Merging id vector and nobs vector to a dataframe.</span>
    <span class="nf">as.data.frame</span><span class="p">(</span><span class="nf">cbind</span><span class="p">(</span><span class="n">id</span><span class="o">=</span><span class="n">id_v</span><span class="p">,</span><span class="n">nobs</span><span class="o">=</span><span class="n">nobs_v</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
'data.frame'
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">12</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">id</th>
<th scope="col">nobs</th>
</tr></thead>
<tbody>
<tr>
<td> 2  </td>
<td>1041</td>
</tr>
<tr>
<td> 4  </td>
<td> 474</td>
</tr>
<tr>
<td> 8  </td>
<td> 192</td>
</tr>
<tr>
<td>10  </td>
<td> 148</td>
</tr>
<tr>
<td>12  </td>
<td>  96</td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">30</span><span class="o">:</span><span class="m">25</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">id</th>
<th scope="col">nobs</th>
</tr></thead>
<tbody>
<tr>
<td>30 </td>
<td>932</td>
</tr>
<tr>
<td>29 </td>
<td>711</td>
</tr>
<tr>
<td>28 </td>
<td>475</td>
</tr>
<tr>
<td>27 </td>
<td>338</td>
</tr>
<tr>
<td>26 </td>
<td>586</td>
</tr>
<tr>
<td>25 </td>
<td>463</td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">id</th>
<th scope="col">nobs</th>
</tr></thead>
<tbody><tr>
<td>3  </td>
<td>243</td>
</tr></tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Part-3">Part 3<a class="anchor-link" href="#Part-3">¶</a>
</h4>
<p>Write a function that takes a directory of data files and a threshold for complete cases and calculates the correlation between sulfate and nitrate for monitor locations where the number of completely observed cases (on all variables) is greater than the threshold. The function should return a vector of correlations for the monitors that meet the threshold requirement. If no monitors meet the threshold requirement, then the function should return a numeric vector of length 0. A prototype of this function follows</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">corr</span><span class="o">&lt;-</span><span class="nf">function</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span><span class="n">threshold</span><span class="o">=</span><span class="m">0</span><span class="p">){</span>
    <span class="n">corr_v</span><span class="o">&lt;-</span><span class="nf">vector</span><span class="p">(</span><span class="s">"numeric"</span><span class="p">)</span>    <span class="c1"># Init empty numeric vector.</span>
    <span class="nf">for </span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="m">1</span><span class="o">:</span><span class="m">332</span><span class="p">){</span>
        <span class="c1"># Reading each csv file into a dataframe.</span>
        <span class="n">df</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="nf">sprintf</span><span class="p">(</span><span class="s">"%s/%03d.csv"</span><span class="p">,</span><span class="n">directory</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
        <span class="c1"># Checking if number of pairwise complete observations is equal to </span>
        <span class="c1"># or above the threshold.</span>
        <span class="nf">if </span><span class="p">(</span><span class="nf">dim</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="o">!</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"nitrate"</span><span class="p">])</span><span class="o">|</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"sulfate"</span><span class="p">])),])[</span><span class="m">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">threshold</span><span class="p">){</span>
            <span class="c1"># Compute correlation using cor() function and add the result</span>
            <span class="c1"># to the correlation vector.</span>
            <span class="n">corr_v</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">corr_v</span><span class="p">,</span><span class="nf">cor</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">sulfate</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">$</span><span class="n">nitrate</span><span class="p">,</span><span class="n">use</span><span class="o">=</span><span class="s">"pairwise.complete.obs"</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1"># Return correlation vector.</span>
    <span class="n">corr_v</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span><span class="o">&lt;-</span><span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">150</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<ol class="list-inline">
<li>-0.0189575409702549</li>
	<li>-0.140512544015892</li>
	<li>-0.0438973721387846</li>
	<li>-0.0681595622977732</li>
	<li>-0.123506665841487</li>
	<li>-0.0758881442189889</li>
</ol>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-0.21057 -0.05147  0.09333  0.12401  0.26836  0.76313 </pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span><span class="o">&lt;-</span><span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">400</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<ol class="list-inline">
<li>-0.0189575409702549</li>
	<li>-0.0438973721387846</li>
	<li>-0.0681595622977732</li>
	<li>-0.0758881442189889</li>
	<li>0.763128837036294</li>
	<li>-0.157828603403922</li>
</ol>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-0.17623 -0.03109  0.10021  0.13969  0.26849  0.76313 </pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span><span class="o">&lt;-</span><span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span><span class="m">5000</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
<span class="nf">length</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
                                                </pre>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
0
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span><span class="o">&lt;-</span><span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
<span class="nf">length</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
-1.00000 -0.05282  0.10719  0.13684  0.27831  1.00000        9 </pre>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
332
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Quiz-02">Quiz 02<a class="anchor-link" href="#Quiz-02">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="s">"sulfate"</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
4.06412824256036
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="s">"nitrate"</span><span class="p">,</span> <span class="m">70</span><span class="o">:</span><span class="m">72</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
1.70604735169492
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="s">"sulfate"</span><span class="p">,</span> <span class="m">34</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
1.47714303030303
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">pollutantmean</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="s">"nitrate"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
1.70293184286701
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cc</span> <span class="o">&lt;-</span> <span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="m">34</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="m">310</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cc</span><span class="o">$</span><span class="n">nobs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] 228 148 124 165 104 460 232
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cc</span> <span class="o">&lt;-</span> <span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="m">54</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cc</span><span class="o">$</span><span class="n">nobs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] 219
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">RNGversion</span><span class="p">(</span><span class="s">"3.5.1"</span><span class="p">)</span>  
<span class="nf">set.seed</span><span class="p">(</span><span class="m">42</span><span class="p">)</span>
<span class="n">cc</span> <span class="o">&lt;-</span> <span class="nf">complete</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="m">332</span><span class="o">:</span><span class="m">1</span><span class="p">)</span>
<span class="n">use</span> <span class="o">&lt;-</span> <span class="nf">sample</span><span class="p">(</span><span class="m">332</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cc</span><span class="p">[</span><span class="n">use</span><span class="p">,</span> <span class="s">"nobs"</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Warning message in RNGkind("Mersenne-Twister", "Inversion", "Rounding"):
"non-uniform 'Rounding' sampler used"</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre> [1] 711 135  74 445 178  73  49   0 687 237
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">)</span>                
<span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">sort</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>   
<span class="nf">RNGversion</span><span class="p">(</span><span class="s">"3.5.1"</span><span class="p">)</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">868</span><span class="p">)</span>                
<span class="n">out</span> <span class="o">&lt;-</span> <span class="nf">round</span><span class="p">(</span><span class="n">cr</span><span class="p">[</span><span class="nf">sample</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">cr</span><span class="p">),</span> <span class="m">5</span><span class="p">)],</span> <span class="m">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Warning message in RNGkind("Mersenne-Twister", "Inversion", "Rounding"):
"non-uniform 'Rounding' sampler used"</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1]  0.2688  0.1127 -0.0085  0.4586  0.0447
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="m">129</span><span class="p">)</span>                
<span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">sort</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>                
<span class="n">n</span> <span class="o">&lt;-</span> <span class="nf">length</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>    
<span class="nf">RNGversion</span><span class="p">(</span><span class="s">"3.5.1"</span><span class="p">)</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">197</span><span class="p">)</span>                
<span class="n">out</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nf">round</span><span class="p">(</span><span class="n">cr</span><span class="p">[</span><span class="nf">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="m">5</span><span class="p">)],</span> <span class="m">4</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Warning message in RNGkind("Mersenne-Twister", "Inversion", "Rounding"):
"non-uniform 'Rounding' sampler used"</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1] 243.0000   0.2540   0.0504  -0.1462  -0.1680   0.5969
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="m">2000</span><span class="p">)</span>                
<span class="n">n</span> <span class="o">&lt;-</span> <span class="nf">length</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>                
<span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">corr</span><span class="p">(</span><span class="s">"specdata"</span><span class="p">,</span> <span class="m">1000</span><span class="p">)</span>                
<span class="n">cr</span> <span class="o">&lt;-</span> <span class="nf">sort</span><span class="p">(</span><span class="n">cr</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nf">round</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="m">4</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[1]  0.0000 -0.0190  0.0419  0.1901
</pre>
</div>
</div>

</div>
</div>

</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/correlation/" rel="tag">correlation</a></li>
            <li><a class="tag p-category" href="../../tags/functions/" rel="tag">Functions</a></li>
            <li><a class="tag p-category" href="../../tags/mean/" rel="tag">mean</a></li>
            <li><a class="tag p-category" href="../../tags/median/" rel="tag">median</a></li>
            <li><a class="tag p-category" href="../../tags/mode/" rel="tag">mode</a></li>
            <li><a class="tag p-category" href="../../tags/r/" rel="tag">R</a></li>
            <li><a class="tag p-category" href="../../tags/standard-deviation/" rel="tag">standard deviation</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../00501/" rel="prev" title="COVID-19 data">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
<script>
var idcomments_acct = '7fae5836cfdd49cac599cac5b95695d1';
var idcomments_post_id = "cache/posts/00502_Air_pollution.html";
var idcomments_post_url = "https://www.datascience.eu.org/r/posts/00502/";
</script><span id="IDCommentsPostTitle" style="display:none"></span>
<script src="https://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></section><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article><!--End of body content--><footer id="footer">
            Contents © 2020 Krishnakanth Allika 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-163231811-1"></script><script>  window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-163231811-1'); gtag('set', {'user_id': 'USER_ID'});</script>
</body>
</html>
