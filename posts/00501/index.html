<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Data slicing in R | Data Science with R</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://www.datascience.eu.org/r/posts/00501/">
<link rel="icon" href="../../files/favicon.ico" sizes="16x16">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Krishnakanth Allika">
<link rel="prev" href="../00407/" title="Matrices and Data Frames" type="text/html">
<meta property="og:site_name" content="Data Science with R">
<meta property="og:title" content="Data slicing in R">
<meta property="og:url" content="https://www.datascience.eu.org/r/posts/00501/">
<meta property="og:description" content="Contents 

JHU exercise data
COVID data by JHU CSSE
COVID data by Kaggle
COVID by EU Open Data Portal









JHU exercise data ¶Disclaimer: This exercise is to help people understand data sclicing o">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-04-14T22:48:07+05:30">
<meta property="article:tag" content="data sclicing">
<meta property="article:tag" content="missing data">
<meta property="article:tag" content="R">
<meta property="article:tag" content="subset">
<meta property="article:tag" content="subsetting">
<meta property="article:tag" content="unzip">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://www.datascience.eu.org/r/">

            <span id="blog-title">Data Science with R</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../toc/" class="nav-link">Table of Contents</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Categories</a>
                </li>
<li class="nav-item">
<a href="../../tags/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="https://www.datascience.eu.org" class="nav-link">Main site</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://www.datascience.eu.org/r/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Data slicing in R</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Krishnakanth Allika
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-04-14T22:48:07+05:30" itemprop="datePublished" title="2020-04-14 22:48">2020-04-14 22:48</time></a>
            </p>
                <p class="commentline">
        
<a href="%7Blink%7D" onclick="this.href='/posts/00501/'; this.target='_self';"><span class="IDCommentsReplace" style="display:none">cache/posts/00501_Subsetting.html</span>
<script>
var idcomments_acct = '7fae5836cfdd49cac599cac5b95695d1';
var idcomments_post_id = "cache/posts/00501_Subsetting.html";
var idcomments_post_url = "/posts/00501/";
</script><script src="https://www.intensedebate.com/js/genericLinkWrapperV2.js"></script></a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Contents</strong> <a name="contents"></a></p>
<ol>
<li><a href="#jhu">JHU exercise data</a></li>
<li><a href="#jhucsse">COVID data by JHU CSSE</a></li>
<li><a href="#kaggle">COVID data by Kaggle</a></li>
<li><a href="#eu">COVID by EU Open Data Portal</a></li>
</ol>
<hr>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="JHU-exercise-data-">JHU exercise data <a name="jhu"></a><a class="anchor-link" href="#JHU-exercise-data-">¶</a>
</h3>
<p><em>Disclaimer: This exercise is to help people understand data sclicing operations in R. I will not be providing solutions to JHU assignments. However, these exercises will help get closer to finding solutions.</em></p>
<p>Data is provided in the form of a URL containing a zip file. There are more than one ways to extract data from zip files.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Data-extraction---Method-1">Data extraction - Method 1<a class="anchor-link" href="#Data-extraction---Method-1">¶</a>
</h4>
<ol>
<li>Download zip file into working directory.</li>
<li>Decompress the zip file into working directory.</li>
<li>Check data file format.</li>
<li>Load decompressed file into a dataframe.</li>
</ol>
<p>Disadvantage: Will end up with two files (a zip file and a data file) in the working directory which are unnecessary.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Download the dataset from the URL to the working directory and name it as "data.zip"</span>
<span class="nf">download.file</span><span class="p">(</span><span class="s">"https://d396qusza40orc.cloudfront.net/rprog/data/quiz1_data.zip"</span><span class="p">,</span><span class="s">"data.zip"</span><span class="p">)</span>
<span class="c1">#unzip the zip file to a directory called "data"</span>
<span class="nf">unzip</span><span class="p">(</span><span class="s">"data.zip"</span><span class="p">,</span><span class="n">exdir</span><span class="o">=</span><span class="s">"data"</span><span class="p">)</span>
<span class="c1"># List file in the "data" directory to check data file format</span>
<span class="nf">list.files</span><span class="p">(</span><span class="s">"data"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
'hw1_data.csv'
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The data is available in a CSV (comma seperated values) file. We will use <em>read.csv</em> to read data into a dataframe.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Reading data into a dataframe called "df"</span>
<span class="n">df_data1</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">"data/hw1_data.csv"</span><span class="p">)</span>
<span class="c1"># View sample data.</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_data1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Ozone</th>
<th scope="col">Solar.R</th>
<th scope="col">Wind</th>
<th scope="col">Temp</th>
<th scope="col">Month</th>
<th scope="col">Day</th>
</tr></thead>
<tbody>
<tr>
<td>41  </td>
<td>190 </td>
<td> 7.4</td>
<td>67  </td>
<td>5   </td>
<td>1   </td>
</tr>
<tr>
<td>36  </td>
<td>118 </td>
<td> 8.0</td>
<td>72  </td>
<td>5   </td>
<td>2   </td>
</tr>
<tr>
<td>12  </td>
<td>149 </td>
<td>12.6</td>
<td>74  </td>
<td>5   </td>
<td>3   </td>
</tr>
<tr>
<td>18  </td>
<td>313 </td>
<td>11.5</td>
<td>62  </td>
<td>5   </td>
<td>4   </td>
</tr>
<tr>
<td>NA  </td>
<td> NA </td>
<td>14.3</td>
<td>56  </td>
<td>5   </td>
<td>5   </td>
</tr>
<tr>
<td>28  </td>
<td> NA </td>
<td>14.9</td>
<td>66  </td>
<td>5   </td>
<td>6   </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Data-extraction---Method-2">Data extraction - Method 2<a class="anchor-link" href="#Data-extraction---Method-2">¶</a>
</h4>
<p>Earlier, we ended up with two unnecessary files and a directory in our working directory. Let's try another way to extracting data without downloading anything to our working directory.</p>
<ol>
<li>Download zip file into kernel/memory.</li>
<li>Check data file format.</li>
<li>Load data file into a dataframe.</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Create an empty file in memory</span>
<span class="n">file</span><span class="o">&lt;-</span><span class="nf">tempfile</span><span class="p">()</span>
<span class="c1"># Download the zip file to this empty file</span>
<span class="nf">download.file</span><span class="p">(</span><span class="s">"https://d396qusza40orc.cloudfront.net/rprog/data/quiz1_data.zip"</span><span class="p">,</span><span class="n">file</span><span class="p">)</span>
<span class="c1"># Check data file format</span>
<span class="nf">unzip</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="n">list</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Name</th>
<th scope="col">Length</th>
<th scope="col">Date</th>
</tr></thead>
<tbody><tr>
<td>hw1_data.csv       </td>
<td>2902               </td>
<td>2012-12-26 14:25:00</td>
</tr></tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Load data file to dataframe</span>
<span class="n">df_data</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="nf">unz</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="s">"hw1_data.csv"</span><span class="p">))</span>
<span class="c1"># Delete file from memory</span>
<span class="nf">unlink</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="c1"># View sample data</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Ozone</th>
<th scope="col">Solar.R</th>
<th scope="col">Wind</th>
<th scope="col">Temp</th>
<th scope="col">Month</th>
<th scope="col">Day</th>
</tr></thead>
<tbody>
<tr>
<td>41  </td>
<td>190 </td>
<td> 7.4</td>
<td>67  </td>
<td>5   </td>
<td>1   </td>
</tr>
<tr>
<td>36  </td>
<td>118 </td>
<td> 8.0</td>
<td>72  </td>
<td>5   </td>
<td>2   </td>
</tr>
<tr>
<td>12  </td>
<td>149 </td>
<td>12.6</td>
<td>74  </td>
<td>5   </td>
<td>3   </td>
</tr>
<tr>
<td>18  </td>
<td>313 </td>
<td>11.5</td>
<td>62  </td>
<td>5   </td>
<td>4   </td>
</tr>
<tr>
<td>NA  </td>
<td> NA </td>
<td>14.3</td>
<td>56  </td>
<td>5   </td>
<td>5   </td>
</tr>
<tr>
<td>28  </td>
<td> NA </td>
<td>14.9</td>
<td>66  </td>
<td>5   </td>
<td>6   </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Checking if both dataframes are identical</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">identical</span><span class="p">(</span><span class="n">df_data</span><span class="p">,</span><span class="n">df_data1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
TRUE
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Dimensions of the dataframe</span>
<span class="nf">dim</span><span class="p">(</span><span class="n">df_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<ol class="list-inline">
<li>153</li>
	<li>6</li>
</ol>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>_df<em>data1</em> has 153 rows and 6 columns.<br>
Let's write the same in the data science langauge:<br>
The dataframe contains 153 records of 6 variables/features.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># View the first 3 records of te dataframe to get an idea about the data in it.</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_data</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Ozone</th>
<th scope="col">Solar.R</th>
<th scope="col">Wind</th>
<th scope="col">Temp</th>
<th scope="col">Month</th>
<th scope="col">Day</th>
</tr></thead>
<tbody>
<tr>
<td>41  </td>
<td>190 </td>
<td> 7.4</td>
<td>67  </td>
<td>5   </td>
<td>1   </td>
</tr>
<tr>
<td>36  </td>
<td>118 </td>
<td> 8.0</td>
<td>72  </td>
<td>5   </td>
<td>2   </td>
</tr>
<tr>
<td>12  </td>
<td>149 </td>
<td>12.6</td>
<td>74  </td>
<td>5   </td>
<td>3   </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># View the last four records.</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">df_data</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">4</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th></th>
<th scope="col">Ozone</th>
<th scope="col">Solar.R</th>
<th scope="col">Wind</th>
<th scope="col">Temp</th>
<th scope="col">Month</th>
<th scope="col">Day</th>
</tr></thead>
<tbody>
<tr>
<th scope="row">150</th>
<td>NA  </td>
<td>145 </td>
<td>13.2</td>
<td>77  </td>
<td>9   </td>
<td>27  </td>
</tr>
<tr>
<th scope="row">151</th>
<td>14  </td>
<td>191 </td>
<td>14.3</td>
<td>75  </td>
<td>9   </td>
<td>28  </td>
</tr>
<tr>
<th scope="row">152</th>
<td>18  </td>
<td>131 </td>
<td> 8.0</td>
<td>76  </td>
<td>9   </td>
<td>29  </td>
</tr>
<tr>
<th scope="row">153</th>
<td>20  </td>
<td>223 </td>
<td>11.5</td>
<td>68  </td>
<td>9   </td>
<td>30  </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can also find the number of records by finding the length of any one of the variables (example, Ozone)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">length</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Ozone</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
153
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Data slicing (also called subsetting in R) is done using the <code>[</code> function. The standard syntax is <code>[rows,columns]</code>. If we need to slice by rows, we can omit columns like <code>[rows,]</code>. Do not forget the trailing comma because without it, R assumes that we are slicing by columns by default or slicing a vector.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Ozone level of 29th row</span>
<span class="n">df_data</span><span class="p">[</span><span class="m">29</span><span class="p">,</span><span class="s">"Ozone"</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
45
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If the variables of a dataframe are named, then we can use their names to achieve the same result as above by doing the following.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Ozone level of 29th row</span>
<span class="n">df_data</span><span class="o">$</span><span class="n">Ozone</span><span class="p">[</span><span class="m">29</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
45
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How did this work? When we call a variable of a dataframe, it becomes a vector. Here _df<em>data$Ozone</em> is an integer vector. We viewed the 29th element of the vector.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Ozone</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
'integer'
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Missing values: <em>is.na()</em> provides a logical vector of missing values - TRUE if NA and FALSE if not NA. In R, TRUE = 1 and FALSE = 0. A <em>sum</em> output the sum of all TRUE values (or missing values).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Number of missing values in variable Solar.R</span>
<span class="nf">sum</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Solar.R</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
7
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Mean of the variable Solar.R excluding missing values</span>
<span class="nf">mean</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Solar.R</span><span class="p">,</span> <span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
185.931506849315
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Mean of Solar.R where Ozone levels are lower than 25 and Temp is below 88.</span>
<span class="nf">mean</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Solar.R</span><span class="p">[</span><span class="n">df_data</span><span class="o">$</span><span class="n">Ozone</span><span class="o">&lt;</span><span class="m">25</span><span class="o">&amp;</span><span class="n">df_data</span><span class="o">$</span><span class="n">Temp</span><span class="o">&lt;</span><span class="m">88</span><span class="p">],</span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
145.163265306122
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Average Ozone level in the month of May</span>
<span class="nf">mean</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Ozone</span><span class="p">[</span><span class="n">df_data</span><span class="o">$</span><span class="n">Month</span><span class="o">==</span><span class="m">5</span><span class="p">],</span> <span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
23.6153846153846
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Maximum Solar Radiation in June</span>
<span class="c1"># More info on usage of max() function: http://www.endmemo.com/program/R/max.php</span>
<span class="nf">max</span><span class="p">(</span><span class="n">df_data</span><span class="o">$</span><span class="n">Solar.R</span><span class="p">[</span><span class="n">df_data</span><span class="o">$</span><span class="n">Month</span><span class="o">==</span><span class="m">6</span><span class="p">],</span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
332
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>[<a href="#contents">^top</a>]</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="COVID-data-by-JHU-CSSE-">COVID data by JHU CSSE <a name="jhucsse"></a><a class="anchor-link" href="#COVID-data-by-JHU-CSSE-">¶</a>
</h3>
<p>Source: <a href="https://github.com/CSSEGISandData/COVID-19">https://github.com/CSSEGISandData/COVID-19</a><br>
Data URL: <a href="http://link.datascience.eu.org/p003d1">http://link.datascience.eu.org/p003d1</a><br>
Data last updated: 2020-04-13</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Loading data to dataframe</span>
<span class="n">df_JHU</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">"http://link.datascience.eu.org/p003d1"</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">FIPS</th>
<th scope="col">Admin2</th>
<th scope="col">Province_State</th>
<th scope="col">Country_Region</th>
<th scope="col">Last_Update</th>
<th scope="col">Lat</th>
<th scope="col">Long_</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Recovered</th>
<th scope="col">Active</th>
<th scope="col">Combined_Key</th>
</tr></thead>
<tbody>
<tr>
<td>45001                        </td>
<td>Abbeville                    </td>
<td>South Carolina               </td>
<td>US                           </td>
<td>2020-04-13 23:07:54          </td>
<td>34.22333                     </td>
<td>-82.46171                    </td>
<td>  9                          </td>
<td>0                            </td>
<td>0                            </td>
<td> 9                           </td>
<td>Abbeville, South Carolina, US</td>
</tr>
<tr>
<td>22001                        </td>
<td>Acadia                       </td>
<td>Louisiana                    </td>
<td>US                           </td>
<td>2020-04-13 23:07:54          </td>
<td>30.29506                     </td>
<td>-92.41420                    </td>
<td>101                          </td>
<td>5                            </td>
<td>0                            </td>
<td>96                           </td>
<td>Acadia, Louisiana, US        </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pruning dataframe by stripping away unrequired variables:<br>
We only need Country, State, Confirmed, Deaths, Recovered and Active.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">df_JHU</span><span class="o">&lt;-</span><span class="n">df_JHU</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s">"Country_Region"</span><span class="p">,</span><span class="s">"Province_State"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">,</span><span class="s">"Recovered"</span><span class="p">,</span><span class="s">"Active"</span><span class="p">)]</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Country_Region</th>
<th scope="col">Province_State</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Recovered</th>
<th scope="col">Active</th>
</tr></thead>
<tbody>
<tr>
<td>US            </td>
<td>South Carolina</td>
<td>  9           </td>
<td>0             </td>
<td>0             </td>
<td> 9            </td>
</tr>
<tr>
<td>US            </td>
<td>Louisiana     </td>
<td>101           </td>
<td>5             </td>
<td>0             </td>
<td>96            </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Confirmed cases, deaths and death rates in US and India vs Global:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Confirmed cases</span>
<span class="n">c_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="n">df_JHU</span><span class="o">$</span><span class="n">Country_Region</span><span class="o">==</span><span class="s">"US"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="n">df_JHU</span><span class="o">$</span><span class="n">Country_Region</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">c_US</span><span class="p">,</span><span class="n">c_IN</span><span class="p">,</span><span class="n">c_GL</span><span class="p">)</span>
<span class="c1"># Deaths</span>
<span class="n">d_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="n">df_JHU</span><span class="o">$</span><span class="n">Country_Region</span><span class="o">==</span><span class="s">"US"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="n">df_JHU</span><span class="o">$</span><span class="n">Country_Region</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_JHU</span><span class="p">[</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">d_US</span><span class="p">,</span><span class="n">d_IN</span><span class="p">,</span><span class="n">d_GL</span><span class="p">)</span>
<span class="c1"># Death rates</span>
<span class="n">dr</span><span class="o">&lt;-</span><span class="n">d</span><span class="o">/</span><span class="n">c</span><span class="o">*</span><span class="m">100</span>
<span class="c1"># Creating a dataframe</span>
<span class="n">df_dr</span><span class="o">&lt;-</span><span class="nf">cbind</span><span class="p">(</span><span class="n">Country</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">"US"</span><span class="p">,</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Global"</span><span class="p">),</span><span class="n">Confirmed</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">Deaths</span><span class="o">=</span><span class="n">d</span><span class="p">,</span><span class="n">Death_Rate</span><span class="o">=</span><span class="n">dr</span><span class="p">)</span>
<span class="n">df_dr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Country</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Death_Rate</th>
</tr></thead>
<tbody>
<tr>
<td>US              </td>
<td>580619          </td>
<td>23529           </td>
<td>4.0523992497662 </td>
</tr>
<tr>
<td>India           </td>
<td>10453           </td>
<td>358             </td>
<td>3.42485410886827</td>
</tr>
<tr>
<td>Global          </td>
<td>1917320         </td>
<td>119483          </td>
<td>6.23177143095571</td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The numbers are close to the reports from <a href="https://www.worldometers.info/coronavirus/">https://www.worldometers.info/coronavirus/</a><br><img src="../../images/r0050010.png" alt="Worldometer report" title="Worldometer report"></p>
<p>[<a href="#contents">^top</a>]</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="COVID-data-by-Kaggle-">COVID data by Kaggle <a name="kaggle"></a><a class="anchor-link" href="#COVID-data-by-Kaggle-">¶</a>
</h3>
<p>Source: <a href="https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset/data">https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset/data</a><br>
Data URL: <a href="http://link.datascience.eu.org/p003d2">http://link.datascience.eu.org/p003d2</a><br>
Data last updated: 2020-04-13</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">df_kaggle</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">"http://link.datascience.eu.org/p003d2"</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">SNo</th>
<th scope="col">ObservationDate</th>
<th scope="col">Province.State</th>
<th scope="col">Country.Region</th>
<th scope="col">Last.Update</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Recovered</th>
</tr></thead>
<tbody>
<tr>
<td>1              </td>
<td>01/22/2020     </td>
<td>Anhui          </td>
<td>Mainland China </td>
<td>1/22/2020 17:00</td>
<td> 1             </td>
<td>0              </td>
<td>0              </td>
</tr>
<tr>
<td>2              </td>
<td>01/22/2020     </td>
<td>Beijing        </td>
<td>Mainland China </td>
<td>1/22/2020 17:00</td>
<td>14             </td>
<td>0              </td>
<td>0              </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pruning dataframe by stripping away unrequired variables:<br>
We only need Country, State, Confirmed, Deaths, Recovered.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">df_kaggle</span><span class="o">&lt;-</span><span class="n">df_kaggle</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s">"Country.Region"</span><span class="p">,</span><span class="s">"Province.State"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">,</span><span class="s">"Recovered"</span><span class="p">)]</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Country.Region</th>
<th scope="col">Province.State</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Recovered</th>
</tr></thead>
<tbody>
<tr>
<td>Mainland China</td>
<td>Anhui         </td>
<td> 1            </td>
<td>0             </td>
<td>0             </td>
</tr>
<tr>
<td>Mainland China</td>
<td>Beijing       </td>
<td>14            </td>
<td>0             </td>
<td>0             </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Confirmed cases, deaths and death rates in US and India vs Global:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># Confirmed cases</span>
<span class="n">c_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="n">df_kaggle</span><span class="o">$</span><span class="n">Country.Region</span><span class="o">==</span><span class="s">"US"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="n">df_kaggle</span><span class="o">$</span><span class="n">Country.Region</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="s">"Confirmed"</span><span class="p">])</span>
<span class="n">c</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">c_US</span><span class="p">,</span><span class="n">c_IN</span><span class="p">,</span><span class="n">c_GL</span><span class="p">)</span>
<span class="c1"># Deaths</span>
<span class="n">d_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="n">df_kaggle</span><span class="o">$</span><span class="n">Country.Region</span><span class="o">==</span><span class="s">"US"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="n">df_kaggle</span><span class="o">$</span><span class="n">Country.Region</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_kaggle</span><span class="p">[</span><span class="s">"Deaths"</span><span class="p">])</span>
<span class="n">d</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">d_US</span><span class="p">,</span><span class="n">d_IN</span><span class="p">,</span><span class="n">d_GL</span><span class="p">)</span>
<span class="c1"># Death rates</span>
<span class="n">dr</span><span class="o">&lt;-</span><span class="n">d</span><span class="o">/</span><span class="n">c</span><span class="o">*</span><span class="m">100</span>
<span class="c1"># Creating a dataframe</span>
<span class="n">df_dr</span><span class="o">&lt;-</span><span class="nf">cbind</span><span class="p">(</span><span class="n">Country</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">"US"</span><span class="p">,</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Global"</span><span class="p">),</span><span class="n">Confirmed</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">Deaths</span><span class="o">=</span><span class="n">d</span><span class="p">,</span><span class="n">Death_Rate</span><span class="o">=</span><span class="n">dr</span><span class="p">)</span>
<span class="n">df_dr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Country</th>
<th scope="col">Confirmed</th>
<th scope="col">Deaths</th>
<th scope="col">Death_Rate</th>
</tr></thead>
<tbody>
<tr>
<td>US              </td>
<td>6278333         </td>
<td>193275          </td>
<td>3.07844454889538</td>
</tr>
<tr>
<td>India           </td>
<td>82548           </td>
<td>2526            </td>
<td>3.06003779619131</td>
</tr>
<tr>
<td>Global          </td>
<td>29221460        </td>
<td>1511343         </td>
<td>5.1720311031687 </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The numbers are way off compared to the reports from <a href="https://www.worldometers.info/coronavirus/">https://www.worldometers.info/coronavirus/</a>. The source data needs to be checked.<br><img src="../../images/r0050010.png" alt="Worldometer report" title="Worldometer report"></p>
<p>[<a href="#contents">^top</a>]</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="COVID-by-EU-Open-Data-Portal-">COVID by EU Open Data Portal <a name="eu"></a><a class="anchor-link" href="#COVID-by-EU-Open-Data-Portal-">¶</a>
</h3>
<p>Source: <a href="https://opendata.ecdc.europa.eu/covid19/casedistribution/csv">https://opendata.ecdc.europa.eu/covid19/casedistribution/csv</a><br>
Data URL: <a href="http://link.datascience.eu.org/p003d3">http://link.datascience.eu.org/p003d3</a><br>
Data last updated: 2020-04-14</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">df_EU</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">"http://link.datascience.eu.org/p003d3"</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_EU</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">dateRep</th>
<th scope="col">day</th>
<th scope="col">month</th>
<th scope="col">year</th>
<th scope="col">cases</th>
<th scope="col">deaths</th>
<th scope="col">countriesAndTerritories</th>
<th scope="col">geoId</th>
<th scope="col">countryterritoryCode</th>
<th scope="col">popData2018</th>
</tr></thead>
<tbody>
<tr>
<td>14/04/2020 </td>
<td>14         </td>
<td>4          </td>
<td>2020       </td>
<td>58         </td>
<td>3          </td>
<td>Afghanistan</td>
<td>AF         </td>
<td>AFG        </td>
<td>37172386   </td>
</tr>
<tr>
<td>13/04/2020 </td>
<td>13         </td>
<td>4          </td>
<td>2020       </td>
<td>52         </td>
<td>0          </td>
<td>Afghanistan</td>
<td>AF         </td>
<td>AFG        </td>
<td>37172386   </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pruning dataframe by stripping away unrequired variables:<br>
We only need Country, cases, deaths, month population.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="n">df_EU</span><span class="o">&lt;-</span><span class="n">df_EU</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s">"countriesAndTerritories"</span><span class="p">,</span><span class="s">"cases"</span><span class="p">,</span><span class="s">"deaths"</span><span class="p">,</span><span class="s">"month"</span><span class="p">,</span><span class="s">"popData2018"</span><span class="p">)]</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_EU</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">countriesAndTerritories</th>
<th scope="col">cases</th>
<th scope="col">deaths</th>
<th scope="col">popData2018</th>
</tr></thead>
<tbody>
<tr>
<td>Afghanistan</td>
<td>58         </td>
<td>3          </td>
<td>37172386   </td>
</tr>
<tr>
<td>Afghanistan</td>
<td>52         </td>
<td>0          </td>
<td>37172386   </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Confirmed cases, deaths, death rates and cases per million population in US and India vs Global:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-r"><pre><span></span><span class="c1"># cases cases</span>
<span class="n">c_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"United_States_of_America"</span><span class="p">,</span><span class="s">"cases"</span><span class="p">])</span>
<span class="n">c_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"cases"</span><span class="p">])</span>
<span class="n">c_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="s">"cases"</span><span class="p">])</span>
<span class="n">c</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">c_US</span><span class="p">,</span><span class="n">c_IN</span><span class="p">,</span><span class="n">c_GL</span><span class="p">)</span>
<span class="c1"># deaths</span>
<span class="n">d_US</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"United_States_of_America"</span><span class="p">,</span><span class="s">"deaths"</span><span class="p">])</span>
<span class="n">d_IN</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"deaths"</span><span class="p">])</span>
<span class="n">d_GL</span><span class="o">&lt;-</span><span class="nf">sum</span><span class="p">(</span><span class="n">df_EU</span><span class="p">[</span><span class="s">"deaths"</span><span class="p">])</span>
<span class="n">d</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">d_US</span><span class="p">,</span><span class="n">d_IN</span><span class="p">,</span><span class="n">d_GL</span><span class="p">)</span>
<span class="c1"># Death rates</span>
<span class="n">dr</span><span class="o">&lt;-</span><span class="n">d</span><span class="o">/</span><span class="n">c</span><span class="o">*</span><span class="m">100</span>
<span class="c1"># Population</span>
<span class="n">p_US</span><span class="o">&lt;-</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"United_States_of_America"</span><span class="p">,</span><span class="s">"popData2018"</span><span class="p">][</span><span class="m">1</span><span class="p">]</span>
<span class="n">p_IN</span><span class="o">&lt;-</span><span class="n">df_EU</span><span class="p">[</span><span class="n">df_EU</span><span class="o">$</span><span class="n">countriesAndTerritories</span><span class="o">==</span><span class="s">"India"</span><span class="p">,</span><span class="s">"popData2018"</span><span class="p">][</span><span class="m">1</span><span class="p">]</span>
<span class="n">p_GL</span><span class="o">&lt;-</span><span class="m">7631091112</span>     <span class="c1"># World pop in 2018 per https://www.populationpyramid.net/world/2018/</span>
<span class="n">p</span><span class="o">&lt;-</span><span class="nf">c</span><span class="p">(</span><span class="n">p_US</span><span class="p">,</span><span class="n">p_IN</span><span class="p">,</span><span class="n">p_GL</span><span class="p">)</span>
<span class="c1"># Cases per million population</span>
<span class="n">cpm</span><span class="o">&lt;-</span><span class="n">c</span><span class="o">/</span><span class="n">p</span><span class="o">*</span><span class="m">1000000</span>
<span class="c1"># Creating a dataframe</span>
<span class="n">df_dr</span><span class="o">&lt;-</span><span class="nf">cbind</span><span class="p">(</span><span class="n">Country</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">"United_States_of_America"</span><span class="p">,</span><span class="s">"India"</span><span class="p">,</span><span class="s">"Global"</span><span class="p">),</span><span class="n">cases</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">deaths</span><span class="o">=</span><span class="n">d</span><span class="p">,</span><span class="n">Death_Rate</span><span class="o">=</span><span class="n">dr</span><span class="p">,</span> <span class="n">Cases_per_Mil</span><span class="o">=</span><span class="n">cpm</span><span class="p">)</span>
<span class="n">df_dr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<table>
<thead><tr>
<th scope="col">Country</th>
<th scope="col">cases</th>
<th scope="col">deaths</th>
<th scope="col">Death_Rate</th>
<th scope="col">Cases_per_Mil</th>
</tr></thead>
<tbody>
<tr>
<td>United_States_of_America</td>
<td>582594                  </td>
<td>23649                   </td>
<td>4.05925910668493        </td>
<td>1780.72124378981        </td>
</tr>
<tr>
<td>India                   </td>
<td>10363                   </td>
<td>339                     </td>
<td>3.27125349802181        </td>
<td>7.66144258651698        </td>
</tr>
<tr>
<td>Global                  </td>
<td>1873265                 </td>
<td>118854                  </td>
<td>6.34475100960088        </td>
<td>245.478002097795        </td>
</tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The numbers are close to the reports from <a href="https://www.worldometers.info/coronavirus/">https://www.worldometers.info/coronavirus/</a><br><img src="../../images/r0050020.png" alt="Worldometer report" title="Worldometer report"></p>
<p>[<a href="#contents">^top</a>]</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Last updated 2020-04-15 01:28:12.744421 IST</em></p>

</div>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/data-sclicing/" rel="tag">data sclicing</a></li>
            <li><a class="tag p-category" href="../../tags/missing-data/" rel="tag">missing data</a></li>
            <li><a class="tag p-category" href="../../tags/r/" rel="tag">R</a></li>
            <li><a class="tag p-category" href="../../tags/subset/" rel="tag">subset</a></li>
            <li><a class="tag p-category" href="../../tags/subsetting/" rel="tag">subsetting</a></li>
            <li><a class="tag p-category" href="../../tags/unzip/" rel="tag">unzip</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../00407/" rel="prev" title="Matrices and Data Frames">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
<script>
var idcomments_acct = '7fae5836cfdd49cac599cac5b95695d1';
var idcomments_post_id = "cache/posts/00501_Subsetting.html";
var idcomments_post_url = "https://www.datascience.eu.org/r/posts/00501/";
</script><span id="IDCommentsPostTitle" style="display:none"></span>
<script src="https://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></section><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article><!--End of body content--><footer id="footer">
            Contents © 2020 Krishnakanth Allika 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-163231811-1"></script><script>  window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-163231811-1'); gtag('set', {'user_id': 'USER_ID'});</script>
</body>
</html>
